"use client";

import { motion, AnimatePresence } from "framer-motion";
import Image from "next/image";
import {
  IconPhone,
  IconMail,
  IconMapPin,
  IconStar,
  IconUsers,
  IconBrain,
  IconHeart,
  IconHome,
  IconChartLine,
  IconShieldCheck,
  IconX,
} from "@tabler/icons-react";
import { useState, useEffect } from "react";

export default function Home() {
  // Carousel state
  const [currentSlide, setCurrentSlide] = useState(0);
  const [currentReview, setCurrentReview] = useState(0);
  const [isDrawerOpen, setIsDrawerOpen] = useState(false);
  const [isPrivacyOpen, setIsPrivacyOpen] = useState(false);
  const [isTermsOpen, setIsTermsOpen] = useState(false);
  const [autoplayPaused, setAutoplayPaused] = useState(false);
  const [reviewsAutoplayPaused, setReviewsAutoplayPaused] = useState(false);

  const reviews = [
    {
      name: "Sarah J.",
      role: "Parent",
      source: "Google",
      rating: 5,
      text: "The Behaviorists has been a blessing for our family. Our son has made incredible progress.",
    },
    {
      name: "RBT",
      role: "Registered Behavior Technician",
      source: "Indeed",
      location: "Miami, FL",
      rating: 5,
      text: "The behaviorist offers great training to make sure we're doing our best. We work together with BCBAs. The Behaviorist also cares about our growth, giving us chances to learn more and move up. The best part is seeing how our work makes a real difference in the kids' lives.",
    },
    {
      name: "Registered Behavior Technician",
      role: "RBT",
      source: "Indeed",
      location: "Doral",
      rating: 5,
      text: "This is my first ABA job and I can easily say I'd never leave. The team is extremely supportive and always at arms reach when needed. I can easily contact my boss without an issue. I feel comfortable talking to them and their extremely flexible and understanding. Love this place so much.",
    },
    {
      name: "Crystal Upegui",
      role: "Local Guide",
      source: "Google",
      rating: 5,
      text: 'All I can say is "amazing"! This company has been such a help and support through our daughters ADHD process and I will never be able to thank them enough. Our BCBA Camille and her RBT Martha are so dedicated and special with our daughter.',
    },
    {
      name: "Rbt",
      role: "",
      source: "Indeed",
      location: "Miami, FL",
      rating: 5,
      text: "Ayudan a los que comienzan en todos los sentidos, muy atentos.",
    },
    {
      name: "Behavior Analyst",
      role: "",
      source: "Indeed",
      location: "Miami, FL",
      rating: 5,
      text: "It has been my first experience as an Analyst and I can not be any happier with the location, supervisor and experience I have had working and providing services for Lacosta Therapy.",
    },
    {
      name: "Luca Patino",
      role: "Local Guide",
      source: "Google",
      rating: 5,
      text: "I have been working with this agency for about 9 months now and I can honestly say I am extremely happy with this entire team and company. The owner Lisette is very patient, professional and helpful. Marlenne her assistant is a sweetheart.",
    },
    {
      name: "Behavior Analyst",
      role: "",
      source: "Indeed",
      location: "Miami, FL",
      rating: 5,
      text: "every day is amazing. the kids and the environment is amazing. supervior is extremely brilliant and is welcoming of questions and lovingly gives answers.",
    },
  ];

  const slides = [
    {
      image: "/images/ig-0.jpg",
      title: "It's not just about behavior.",
      filter: "contrast(1.1) brightness(1.05)",
    },
    {
      image: "/images/ig-3.jpg",
      title: "Building independence together.",
      filter: "sepia(0.1) contrast(1.1) saturate(1.2)",
    },
    {
      image: "/images/ig-5.jpg",
      title: "Family-centered approach.",
      filter: "contrast(1.15) saturate(1.1) brightness(1.02)",
    },
    {
      image: "/images/ig-7.jpg",
      title: "Evidence-based therapy.",
      filter: "contrast(1.2) saturate(0.9) brightness(1.05)",
    },
    {
      image: "/images/ig-11.jpg",
      title: "Transforming lives daily.",
      filter: "contrast(1.1) saturate(1.15) brightness(0.98)",
    },
  ];
  const slideDuration = 5000; // 5 seconds per slide

  useEffect(() => {
    if (!autoplayPaused) {
      const timer = setInterval(() => {
        setCurrentSlide((prev) => (prev + 1) % slides.length);
      }, slideDuration);

      return () => clearInterval(timer);
    }
  }, [slides.length, autoplayPaused]);

  useEffect(() => {
    if (!reviewsAutoplayPaused) {
      const timer = setInterval(() => {
        setCurrentReview((prev) => (prev + 1) % reviews.length);
      }, slideDuration);

      return () => clearInterval(timer);
    }
  }, [reviews.length, reviewsAutoplayPaused]);

  const handleSwipe = (direction: number) => {
    if (direction > 0) {
      // Swiped right - go to previous slide
      setCurrentSlide((prev) => (prev - 1 + slides.length) % slides.length);
    } else {
      // Swiped left - go to next slide
      setCurrentSlide((prev) => (prev + 1) % slides.length);
    }
    // Pause autoplay for a bit after manual swipe
    setAutoplayPaused(true);
    setTimeout(() => setAutoplayPaused(false), slideDuration * 2);
  };
  return (
    <main className="min-h-screen bg-white">
      {/* Sticky Header */}
      <header className="sticky top-0 bg-white/80 backdrop-blur-md z-30">
        <div className="max-w-3xl mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            <h1 className="text-lg md:text-xl font-semibold">
              The Behaviorists
            </h1>
            <motion.button
              whileHover={{ scale: 1.05 }}
              whileTap={{ scale: 0.95 }}
              onClick={() => setIsDrawerOpen(true)}
              className="text-sm md:text-base bg-zinc-900 text-white px-3 md:px-4 py-1.5 md:py-2 rounded-full hover:bg-zinc-800 transition-colors"
            >
              Get Started
            </motion.button>
          </div>
        </div>
      </header>

      {/* Bento Grid */}
      <div className="bento-grid">
        {/* Hero Carousel */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="bento-box bento-hero text-left relative overflow-hidden cursor-grab active:cursor-grabbing"
          drag="x"
          dragConstraints={{ left: 0, right: 0 }}
          dragElastic={0.2}
          onDragEnd={(e, { offset, velocity }) => {
            const swipeThreshold = 50;
            const swipeVelocityThreshold = 500;

            if (
              Math.abs(offset.x) > swipeThreshold ||
              Math.abs(velocity.x) > swipeVelocityThreshold
            ) {
              handleSwipe(offset.x);
            }
          }}
          style={{ touchAction: "pan-y" }}
        >
          {/* Background Images */}
          {slides.map((slide, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0 }}
              animate={{ opacity: currentSlide === index ? 1 : 0 }}
              transition={{ duration: 1 }}
              className="absolute inset-0 z-0"
              style={{ pointerEvents: "none" }}
            >
              <Image
                src={slide.image}
                alt={slide.title}
                fill
                className="object-cover"
                style={{ filter: slide.filter }}
                priority={index === 0}
              />
              <div className="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent" />
              <div className="absolute inset-0 bg-gradient-to-r from-black/30 to-transparent" />
            </motion.div>
          ))}

          {/* Progress Indicators */}
          <div className="absolute top-8 left-8 right-8 flex gap-1 z-20">
            {slides.map((_, index) => (
              <div
                key={index}
                className="flex-1 h-1 bg-white/30 rounded-full overflow-hidden"
              >
                <motion.div
                  className="h-full bg-white"
                  initial={{ width: "0%" }}
                  animate={{
                    width: currentSlide === index ? "100%" : "0%",
                  }}
                  transition={{
                    duration: currentSlide === index ? slideDuration / 1000 : 0,
                    ease: "linear",
                  }}
                />
              </div>
            ))}
          </div>

          {/* Content - positioned bottom left */}
          <div className="absolute bottom-0 left-0 p-6 md:p-8 z-10">
            <motion.h1
              key={currentSlide}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              exit={{ opacity: 0, y: -20 }}
              transition={{ duration: 0.5 }}
              className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-2 text-white"
            >
              {slides[currentSlide].title}
            </motion.h1>
            <p className="text-base text-white/90 max-w-xl">
              Evidence-based ABA therapy for children with autism and
              developmental disabilities in South Florida.
            </p>
          </div>
        </motion.div>

        {/* Quick Stats */}
        <motion.div
          initial={{ opacity: 0, rotateY: 180 }}
          animate={{ opacity: 1, rotateY: 0 }}
          transition={{ duration: 0.6, ease: "easeOut" }}
          className="bento-box bento-sm"
          style={{ transformStyle: "preserve-3d" }}
        >
          <div className="bento-stat">500+</div>
          <div className="bento-label">Families Served</div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, rotateY: 180 }}
          animate={{ opacity: 1, rotateY: 0 }}
          transition={{ duration: 0.6, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-sm"
          style={{ transformStyle: "preserve-3d" }}
        >
          <div className="bento-stat">98%</div>
          <div className="bento-label">Satisfaction Rate</div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.2, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <div className="bento-stat">7+</div>
          <div className="bento-label">Years Experience</div>
        </motion.div>

        {/* About */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-md"
        >
          <div className="bento-title">About Us</div>
          <p className="bento-subtitle">
            Founded in 2017, we&apos;re one of the few BHCOE agencies in
            Florida, providing personalized ABA therapy with a focus on
            independence and family involvement.
          </p>
        </motion.div>

        {/* Image Box */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm bento-image p-0"
          style={{ backgroundImage: "url(/images/ig-0.jpg)" }}
        />

        {/* Services */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconHome size={24} className="mb-3 text-zinc-700" />
          <div className="bento-title">Home-Based</div>
          <p className="text-base text-zinc-600">
            Therapy in familiar environments
          </p>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconBrain size={24} className="mb-3 text-zinc-700" />
          <div className="bento-title">School Support</div>
          <p className="text-base text-zinc-600">
            Collaborative educational approach
          </p>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.2, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconUsers size={24} className="mb-3 text-zinc-700" />
          <div className="bento-title">Clinic-Based</div>
          <p className="text-base text-zinc-600">
            Structured therapeutic setting
          </p>
        </motion.div>

        {/* Process Header */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-lg bg-teal-100"
        >
          <div className="bento-title">
            We&apos;ll walk you through the process
          </div>
        </motion.div>

        {/* Process Steps */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <div className="text-2xl font-bold text-zinc-300 mb-2">01</div>
          <p className="text-base text-zinc-600">
            Call us or fill out the contact form below to briefly discuss your
            child&apos;s needs
          </p>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <div className="text-2xl font-bold text-zinc-300 mb-2">02</div>
          <p className="text-base text-zinc-600">
            We&apos;ll confirm the documentation requirements and initiate
            services with your insurance
          </p>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.2, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <div className="text-2xl font-bold text-zinc-300 mb-2">03</div>
          <p className="text-base text-zinc-600">
            During the assessment, we&apos;ll discuss the best treatment plan
            for your child, pick a location, and recommend hours
          </p>
        </motion.div>

        {/* Reviews */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-md relative overflow-hidden"
        >
          {/* Progress Indicators */}
          <div className="absolute top-8 left-8 right-8 flex gap-1 z-20">
            {reviews.map((_, index) => (
              <div
                key={index}
                className="flex-1 h-0.5 bg-zinc-300 rounded-full overflow-hidden"
              >
                <motion.div
                  className="h-full bg-zinc-600"
                  initial={{ width: "0%" }}
                  animate={{
                    width: currentReview === index ? "100%" : "0%",
                  }}
                  transition={{
                    duration: currentReview === index ? slideDuration / 1000 : 0,
                    ease: "linear",
                  }}
                />
              </div>
            ))}
          </div>
          
          {/* Review Content */}
          <div className="pt-6">
            <div className="flex items-center gap-1 mb-2">
              {[...Array(5)].map((_, i) => (
                <IconStar
                  key={i}
                  size={24}
                  className="fill-yellow-400 text-yellow-400"
                />
              ))}
            </div>
            <AnimatePresence mode="wait">
              <motion.div
                key={currentReview}
                initial={{ opacity: 0, y: 10 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: -10 }}
                transition={{ duration: 0.3 }}
              >
                <p className="bento-subtitle italic mb-3 line-clamp-3">
                  &quot;{reviews[currentReview].text}&quot;
                </p>
                <div className="flex items-center justify-between">
                  <p className="text-sm text-zinc-500">
                    - {reviews[currentReview].name}
                    {reviews[currentReview].role && `, ${reviews[currentReview].role}`}
                  </p>
                  <p className="text-xs text-zinc-400">
                    {reviews[currentReview].source}
                    {reviews[currentReview].location && ` • ${reviews[currentReview].location}`}
                  </p>
                </div>
              </motion.div>
            </AnimatePresence>
          </div>
        </motion.div>

        {/* Image */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm bento-image p-0"
          style={{ backgroundImage: "url(/images/ig-5.jpg)" }}
        />

        {/* Values */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconHeart size={24} className="mb-2 text-zinc-700" />
          <div className="font-medium text-sm">Family-Centered</div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconChartLine size={24} className="mb-2 text-zinc-700" />
          <div className="font-medium text-sm">Data-Driven</div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.2, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconShieldCheck size={24} className="mb-2 text-zinc-700" />
          <div className="font-medium text-sm">Evidence-Based</div>
        </motion.div>

        {/* Insurance */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-lg bg-teal-100"
        >
          <div className="bento-title mb-3">Accepted Insurance Plans</div>
          <p className="bento-subtitle mb-4">
            If you are interested in using your health insurance to cover the
            cost of ABA therapy, we&apos;ll determine the documentation
            requirements set by your benefits plan. We&apos;ll work with you to
            submit all paperwork on your behalf.
          </p>
          <div className="flex flex-wrap items-center gap-4">
            <Image
              src="/images/logo-aetna.png"
              alt="Aetna"
              width={60}
              height={30}
              className="h-8 w-auto object-contain"
            />
            <Image
              src="/images/logo-bcbs.png"
              alt="Blue Cross Blue Shield"
              width={60}
              height={30}
              className="h-8 w-auto object-contain"
            />
            <Image
              src="/images/logo-cigna.png"
              alt="Cigna"
              width={60}
              height={30}
              className="h-8 w-auto object-contain"
            />
            <Image
              src="/images/logo-medicaid.png"
              alt="Florida Medicaid"
              width={80}
              height={30}
              className="h-8 w-auto object-contain"
            />
            <Image
              src="/images/logo-tricare.png"
              alt="Tricare"
              width={60}
              height={30}
              className="h-8 w-auto object-contain"
            />
          </div>
          <p className="text-sm mt-4 text-pink-600">
            Don&apos;t see your plan on the list?
            <br />
            Contact us today to discuss affordable payment options.
          </p>
        </motion.div>

        {/* Image */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm bento-image p-0"
          style={{ backgroundImage: "url(/images/ig-11.jpg)" }}
        />

        {/* Contact CTA */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconPhone size={24} className="mb-2 text-zinc-700" />
          <div className="text-sm font-medium">Call Now</div>
          <p className="text-sm text-zinc-600">786-860-5161</p>
        </motion.div>

        {/* Email */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.1, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconMail size={24} className="mb-2 text-zinc-700" />
          <div className="text-sm font-medium">Email Us</div>
          <p className="text-sm text-zinc-600">info@behaviorists.com</p>
        </motion.div>

        {/* Location */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, delay: 0.2, ease: "easeOut" }}
          className="bento-box bento-sm"
        >
          <IconMapPin size={24} className="mb-2 text-zinc-700" />
          <div className="text-sm font-medium">South Florida</div>
          <p className="text-sm text-zinc-600">Multiple locations</p>
        </motion.div>

        {/* Footer */}
        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, amount: 0.3 }}
          transition={{ duration: 0.5, ease: "easeOut" }}
          className="bento-box bento-lg bg-zinc-900 text-white"
        >
          <div className="flex justify-between items-center">
            <div className="flex flex-col">
              <Image
                src="/logo-rainbow-mark.avif"
                alt="The Behaviorists Logo"
                width={72}
                height={72}
                className="opacity-80 mb-4"
              />
              <p className="text-xs sm:text-sm mb-1">
                © {new Date().getFullYear()} The Behaviorists
              </p>
              <p className="text-xs text-zinc-400">
                BHCOE Accredited • Licensed & Insured
              </p>
            </div>
            <div>
              <p className="text-xs text-zinc-400">
                <button
                  onClick={() => setIsPrivacyOpen(true)}
                  className="hover:text-zinc-300 transition-colors"
                >
                  Privacy Policy
                </button>
                {" • "}
                <button
                  onClick={() => setIsTermsOpen(true)}
                  className="hover:text-zinc-300 transition-colors"
                >
                  Terms of Service
                </button>
              </p>
            </div>
          </div>
        </motion.div>
      </div>

      {/* Modal/Drawer */}
      <AnimatePresence>
        {isDrawerOpen && (
          <>
            {/* Backdrop */}
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              onClick={() => setIsDrawerOpen(false)}
              className="fixed inset-0 bg-black/20 backdrop-blur-sm z-40"
            />

            {/* Modal on Desktop, Drawer on Mobile */}
            <motion.div
              initial={{ y: "100%", opacity: 0 }}
              animate={{ y: 0, opacity: 1 }}
              exit={{ y: "100%", opacity: 0 }}
              transition={{ type: "spring", damping: 30, stiffness: 300 }}
              className="fixed inset-x-0 bottom-0 md:inset-0 md:flex md:items-center md:justify-center z-50"
            >
              <div className="bg-white rounded-t-2xl md:rounded-2xl w-full md:max-w-xl md:mx-auto max-h-[90vh] overflow-y-auto shadow-2xl">
                <div className="p-6 md:p-8">
                  {/* Handle bar - mobile only */}
                  <div className="w-12 h-1 bg-zinc-200 rounded-full mx-auto mb-6 md:hidden" />

                  {/* Header */}
                  <div className="flex items-center justify-between mb-8">
                    <h2 className="text-2xl font-semibold">Get Started</h2>
                    <motion.button
                      whileHover={{ scale: 1.1 }}
                      whileTap={{ scale: 0.9 }}
                      onClick={() => setIsDrawerOpen(false)}
                      className="p-2 rounded-full hover:bg-zinc-100 transition-colors"
                    >
                      <IconX size={20} className="text-zinc-500" />
                    </motion.button>
                  </div>

                  {/* Call Section */}
                  <div className="mb-8 p-4 bg-zinc-50 rounded-xl">
                    <p className="text-sm text-zinc-600 mb-3">
                      Need immediate assistance?
                    </p>
                    <motion.a
                      href="tel:786-860-5161"
                      whileHover={{ scale: 1.02 }}
                      whileTap={{ scale: 0.98 }}
                      className="flex items-center justify-center gap-3 bg-zinc-900 text-white rounded-full py-3 px-6 font-medium"
                    >
                      <IconPhone size={20} />
                      <span>(786) 860-5161</span>
                    </motion.a>
                  </div>

                  {/* Form */}
                  <form className="space-y-4">
                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Child's Name
                        </label>
                        <input
                          type="text"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Parent/Caregiver's Name
                        </label>
                        <input
                          type="text"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                    </div>

                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Child's Date of Birth
                        </label>
                        <input
                          type="date"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Phone Number
                        </label>
                        <input
                          type="tel"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                    </div>

                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Child's Diagnosis
                        </label>
                        <input
                          type="text"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-zinc-700 mb-1">
                          Email
                        </label>
                        <input
                          type="email"
                          className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                        />
                      </div>
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-zinc-700 mb-1">
                        Insurance Provider
                      </label>
                      <input
                        type="text"
                        className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-zinc-700 mb-1">
                        Therapy Schedule & Location Preference
                      </label>
                      <textarea
                        rows={3}
                        className="w-full px-4 py-2.5 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:border-transparent transition-all resize-none"
                      />
                    </div>

                    <div className="pt-4">
                      <motion.button
                        type="submit"
                        whileHover={{ scale: 1.02 }}
                        whileTap={{ scale: 0.98 }}
                        className="w-full bg-zinc-900 text-white rounded-full py-3 font-medium hover:bg-zinc-800 transition-colors"
                      >
                        Submit
                      </motion.button>
                      <p className="text-center text-sm text-zinc-500 mt-3">
                        We'll call you within 24 hours
                      </p>
                    </div>
                  </form>
                </div>
              </div>
            </motion.div>
          </>
        )}
      </AnimatePresence>

      {/* Privacy Policy Modal */}
      <AnimatePresence>
        {isPrivacyOpen && (
          <>
            {/* Backdrop */}
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              onClick={() => setIsPrivacyOpen(false)}
              className="fixed inset-0 bg-black/20 backdrop-blur-sm z-40"
            />

            {/* Modal */}
            <motion.div
              initial={{ opacity: 0, scale: 0.95 }}
              animate={{ opacity: 1, scale: 1 }}
              exit={{ opacity: 0, scale: 0.95 }}
              transition={{ type: "spring", damping: 30, stiffness: 300 }}
              className="fixed inset-0 flex items-center justify-center z-50 p-4"
            >
              <div className="bg-white rounded-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden shadow-2xl">
                {/* Header */}
                <div className="flex items-center justify-between p-6 border-b border-zinc-100">
                  <h2 className="text-xl font-semibold">Privacy Policy</h2>
                  <motion.button
                    whileHover={{ scale: 1.1 }}
                    whileTap={{ scale: 0.9 }}
                    onClick={() => setIsPrivacyOpen(false)}
                    className="p-2 rounded-full hover:bg-zinc-100 transition-colors"
                  >
                    <IconX size={20} className="text-zinc-500" />
                  </motion.button>
                </div>

                {/* Content */}
                <div className="p-6 md:p-8 overflow-y-auto max-h-[calc(85vh-5rem)]">
                  <div className="prose prose-zinc max-w-none">
                    <p className="text-sm text-zinc-500 mb-6">
                      Last Updated: 03/26/2025
                    </p>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        1. Introduction
                      </h3>
                      <p className="text-zinc-600 leading-relaxed">
                        Welcome to The Behaviorists ("Company," "we," "our,"
                        "us"). We are committed to protecting your privacy. This
                        Privacy Policy explains how we collect, use, disclose,
                        and safeguard your information when you visit our
                        website hello@the-behaviorists.com.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        2. Information We Collect
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        We may collect the following types of information:
                      </p>
                      <ul className="space-y-2 text-zinc-600">
                        <li>
                          <strong>Personal Information:</strong> Name, email
                          address, phone number, mailing address, and any other
                          information you voluntarily provide.
                        </li>
                        <li>
                          <strong>Health Information:</strong> If applicable, we
                          may collect health-related information to provide
                          Applied Behavior Analysis (ABA) services, subject to
                          HIPAA regulations.
                        </li>
                        <li>
                          <strong>Automatically Collected Information:</strong>{" "}
                          IP address, browser type, operating system, and
                          browsing behavior on our website.
                        </li>
                        <li>
                          <strong>Cookies and Tracking Technologies:</strong> We
                          use cookies to enhance user experience and analyze
                          website traffic.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        3. How We Use Your Information
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        We may use your information for the following purposes:
                      </p>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          To provide ABA services and respond to inquiries.
                        </li>
                        <li>
                          To schedule appointments and communicate with clients.
                        </li>
                        <li>
                          To improve our website functionality and user
                          experience.
                        </li>
                        <li>
                          To comply with legal obligations and protect our
                          rights.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        4. How We Share Your Information
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        We do not sell or rent your personal information. We may
                        share your information:
                      </p>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          With service providers assisting us in website
                          maintenance and operations.
                        </li>
                        <li>With legal authorities if required by law.</li>
                        <li>
                          With third parties in connection with a business
                          transaction, such as a merger or acquisition.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        5. Data Security
                      </h3>
                      <p className="text-zinc-600">
                        We implement reasonable security measures to protect
                        your personal information. However, no data transmission
                        over the internet is completely secure, and we cannot
                        guarantee absolute security.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        6. Your Rights and Choices
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        Depending on your location, you may have the following
                        rights:
                      </p>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600 mb-3">
                        <li>
                          Access, correct, or delete your personal information.
                        </li>
                        <li>Opt-out of certain communications.</li>
                        <li>
                          Restrict processing of your personal information.
                        </li>
                      </ul>
                      <p className="text-zinc-600">
                        To exercise these rights, contact us at
                        hello@the-behaviorists.com.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        7. Third-Party Links
                      </h3>
                      <p className="text-zinc-600">
                        Our website may contain links to third-party websites.
                        We are not responsible for their privacy practices.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        8. Children's Privacy
                      </h3>
                      <p className="text-zinc-600">
                        We do not knowingly collect personal information from
                        children under 13 without parental consent.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        9. Changes to This Privacy Policy
                      </h3>
                      <p className="text-zinc-600">
                        We may update this Privacy Policy periodically. We will
                        notify you of significant changes by updating the
                        effective date.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        10. Contact Us
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        If you have any questions, contact us at:
                      </p>
                      <div className="bg-zinc-50 p-4 rounded-lg">
                        <p className="font-semibold text-zinc-700">
                          The Behaviorists
                        </p>
                        <p className="text-zinc-600">
                          657 South Drive Suite 403,
                          <br />
                          Miami Springs, FL 33166
                        </p>
                        <p className="text-zinc-600 mt-2">
                          <a
                            href="mailto:hello@the-behaviorists.com"
                            className="text-zinc-900 hover:underline"
                          >
                            hello@the-behaviorists.com
                          </a>
                          <br />
                          <a
                            href="tel:786-860-5161"
                            className="text-zinc-900 hover:underline"
                          >
                            786-860-5161
                          </a>
                        </p>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </motion.div>
          </>
        )}
      </AnimatePresence>

      {/* Terms and Conditions Modal */}
      <AnimatePresence>
        {isTermsOpen && (
          <>
            {/* Backdrop */}
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              onClick={() => setIsTermsOpen(false)}
              className="fixed inset-0 bg-black/20 backdrop-blur-sm z-40"
            />

            {/* Modal */}
            <motion.div
              initial={{ opacity: 0, scale: 0.95 }}
              animate={{ opacity: 1, scale: 1 }}
              exit={{ opacity: 0, scale: 0.95 }}
              transition={{ type: "spring", damping: 30, stiffness: 300 }}
              className="fixed inset-0 flex items-center justify-center z-50 p-4"
            >
              <div className="bg-white rounded-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden shadow-2xl">
                {/* Header */}
                <div className="flex items-center justify-between p-6 border-b border-zinc-100">
                  <h2 className="text-xl font-semibold">
                    Terms and Conditions
                  </h2>
                  <motion.button
                    whileHover={{ scale: 1.1 }}
                    whileTap={{ scale: 0.9 }}
                    onClick={() => setIsTermsOpen(false)}
                    className="p-2 rounded-full hover:bg-zinc-100 transition-colors"
                  >
                    <IconX size={20} className="text-zinc-500" />
                  </motion.button>
                </div>

                {/* Content */}
                <div className="p-6 md:p-8 overflow-y-auto max-h-[calc(85vh-5rem)]">
                  <div className="prose prose-zinc max-w-none">
                    <p className="text-sm text-zinc-500 mb-6">
                      Last Updated: 03/26/2025
                    </p>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        1. Introduction
                      </h3>
                      <p className="text-zinc-600 leading-relaxed">
                        Welcome to The Behaviorists ("Company," "we," "our,"
                        "us"). By accessing or using our website
                        the-behaviorists.com, you agree to comply with and be
                        bound by these Terms and Conditions. If you do not
                        agree, please do not use our website.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        2. Use of the Website
                      </h3>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          You must be at least 18 years old or have
                          parental/guardian consent to use this website.
                        </li>
                        <li>
                          You agree to use our website for lawful purposes only.
                        </li>
                        <li>
                          You may not attempt to interfere with the security or
                          functionality of our website.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        3. Services
                      </h3>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          Our website provides information about Applied
                          Behavior Analysis (ABA) services.
                        </li>
                        <li>
                          We reserve the right to modify, suspend, or
                          discontinue any part of our services at any time
                          without notice.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        4. Intellectual Property
                      </h3>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          All content on our website, including text, graphics,
                          logos, and images, is owned by or licensed to The
                          Behaviorists and is protected by copyright and
                          trademark laws.
                        </li>
                        <li>
                          You may not reproduce, distribute, or modify our
                          content without our written permission.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        5. Limitation of Liability
                      </h3>
                      <ul className="list-disc list-inside space-y-1 text-zinc-600">
                        <li>
                          We strive to provide accurate information but do not
                          guarantee that all content on our website is
                          error-free.
                        </li>
                        <li>
                          The Behaviorists is not liable for any damages arising
                          from the use or inability to use our website.
                        </li>
                      </ul>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        6. Privacy Policy
                      </h3>
                      <p className="text-zinc-600">
                        Your use of our website is also governed by our Privacy
                        Policy, which you can review{" "}
                        <button
                          onClick={() => {
                            setIsTermsOpen(false);
                            setTimeout(() => setIsPrivacyOpen(true), 300);
                          }}
                          className="text-zinc-900 hover:underline font-medium"
                        >
                          HERE
                        </button>
                        .
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        7. Third-Party Links
                      </h3>
                      <p className="text-zinc-600">
                        Our website may contain links to third-party websites.
                        We are not responsible for the content or practices of
                        these websites.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        8. Termination
                      </h3>
                      <p className="text-zinc-600">
                        We reserve the right to terminate or restrict your
                        access to our website if you violate these Terms and
                        Conditions.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        9. Governing Law
                      </h3>
                      <p className="text-zinc-600">
                        These Terms and Conditions are governed by the laws of
                        the state of Florida.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        10. Changes to These Terms
                      </h3>
                      <p className="text-zinc-600">
                        We may update these Terms and Conditions periodically.
                        Continued use of our website after changes indicates
                        your acceptance of the revised terms.
                      </p>
                    </section>

                    <section className="mb-6">
                      <h3 className="text-lg font-semibold mb-3">
                        11. Contact Us
                      </h3>
                      <p className="text-zinc-600 mb-3">
                        If you have any questions, contact us at:
                      </p>
                      <div className="bg-zinc-50 p-4 rounded-lg">
                        <p className="font-semibold text-zinc-700">
                          The Behaviorists
                        </p>
                        <p className="text-zinc-600">
                          657 South Drive, Suite 403,
                          <br />
                          Miami Springs, FL 33166
                        </p>
                        <p className="text-zinc-600 mt-2">
                          <a
                            href="mailto:hello@the-behaviorists.com"
                            className="text-zinc-900 hover:underline"
                          >
                            hello@the-behaviorists.com
                          </a>
                          <br />
                          <a
                            href="tel:786-860-5161"
                            className="text-zinc-900 hover:underline"
                          >
                            786-860-5161
                          </a>
                        </p>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </motion.div>
          </>
        )}
      </AnimatePresence>
    </main>
  );
}
